<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–ó–∞–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–º–∏—Å—Å–∏–∏</title>
  <link rel="stylesheet" href="conclusion.css" />
</head>
<body>
  <div class="page">
    <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å -->
    <div class="header">
      <nav class="tabs">
        <a href="applications.html">–í—Å–µ –∑–∞—è–≤–ª–µ–Ω–∏—è</a>
        <a href="conclusion.html" class="active">–ó–∞–∫–ª—é—á–µ–Ω–∏—è –∫–æ–º–∏—Å—Å–∏–∏</a>
        <a href="signed.html">–ü–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã</a>
      </nav>
      <div class="profile-link">
        <a href="profile.html">üîî –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</a>
      </div>
    </div>

    <!-- –ü–æ–∏—Å–∫ -->
    <div class="search-box">
      <input type="text" id="searchInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –§–ò–û –∏–ª–∏ –∫–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π –Ω–æ–º–µ—Ä" />
      <button id="searchBtn">–ü–æ–∏—Å–∫</button>
    </div>

    <!-- –°—á—ë—Ç—á–∏–∫ -->
    <div class="counter">
      –í—Å–µ–≥–æ: <span id="totalCount">0</span> | –ù–∞–π–¥–µ–Ω–æ: <span id="foundCount">0</span> <span id="word">–∑–∞—è–≤–ª–µ–Ω–∏–π</span>
    </div>

    <div class="content">
      <!-- –§–∏–ª—å—Ç—Ä—ã -->
      <aside class="filters">
        <h3>–§–∏–ª—å—Ç—Ä</h3>
        <div class="dropdown">
          <button type="button" class="dropbtn" id="districtBtn">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–π–æ–Ω—ã ‚ñæ</button>
          <div id="districtDropdown" class="dropdown-content">
            <input type="text" id="districtSearch" placeholder="–ü–æ–∏—Å–∫ —Ä–∞–π–æ–Ω–∞..." />
            <div id="districtList">
              <label><input type="checkbox" name="district" value="–¶–ê–û" /> –¶–ê–û</label>
              <label><input type="checkbox" name="district" value="–Æ–ó–ê–û" /> –Æ–ó–ê–û</label>
              <label><input type="checkbox" name="district" value="–°–ó–ê–û" /> –°–ó–ê–û</label>
              <label><input type="checkbox" name="district" value="–í–ê–û" /> –í–ê–û</label>
            </div>
          </div>
        </div>

        <div class="filter-section">
          <label>–î–∞—Ç–∞ –≤—ã–µ–∑–¥–∞</label>
          <p></p>
          <label for="dateFrom">–æ—Ç:</label>
          <input type="date" id="dateFrom">
          <p></p>
          <label for="dateTo">–¥–æ:</label>
          <input type="date" id="dateTo">
        </div>

        <div class="actions-col">
          <button id="applyFilters" class="btn-primary">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
          <button id="clearFilters" class="btn-ghost">–°–±—Ä–æ—Å–∏—Ç—å</button>
        </div>
      </aside>

      <!-- –°–ø–∏—Å–æ–∫ –∑–∞—è–≤–ª–µ–Ω–∏–π -->
      <main class="applications-list" id="applicationsList">
        <div class="app-card" data-district="–¶–ê–û" data-text="–î–æ–∫—É–º–µ–Ω—Ç –ò–≤–∞–Ω–æ–≤–∞">
          <span>–ò–≤–∞–Ω–æ–≤ –ò.–ò. | 77:01:0000000:111 | –¶–ê–û</span>
          <button class="sign-btn">–ü–æ–¥–ø–∏—Å–∞—Ç—å</button>
        </div>
        <div class="app-card" data-district="–Æ–ó–ê–û" data-text="–î–æ–∫—É–º–µ–Ω—Ç –ü–µ—Ç—Ä–æ–≤–∞">
          <span>–ü–µ—Ç—Ä–æ–≤ –ü.–ü. | 77:01:0000000:222 | –Æ–ó–ê–û</span>
          <button class="sign-btn">–ü–æ–¥–ø–∏—Å–∞—Ç—å</button>
        </div>
        <div class="app-card" data-district="–°–ó–ê–û" data-text="–î–æ–∫—É–º–µ–Ω—Ç –°–∏–¥–æ—Ä–æ–≤–∞">
          <span>–°–∏–¥–æ—Ä–æ–≤ –°.–°. | 77:01:0000000:333 | –°–ó–ê–û</span>
          <button class="sign-btn">–ü–æ–¥–ø–∏—Å–∞—Ç—å</button>
        </div>
        <div class="app-card" data-district="–í–ê–û" data-text="–î–æ–∫—É–º–µ–Ω—Ç –ö—É–∑–Ω–µ—Ü–æ–≤–∞">
          <span>–ö—É–∑–Ω–µ—Ü–æ–≤ –ö.–ö. | 77:01:0000000:444 | –í–ê–û</span>
          <button class="sign-btn">–ü–æ–¥–ø–∏—Å–∞—Ç—å</button>
        </div>
        <div class="app-card" data-district="–¶–ê–û" data-text="–î–æ–∫—É–º–µ–Ω—Ç –ò–≤–∞–Ω–æ–≤–∞">
          <span>–ò–≤–∞–Ω–æ–≤ –ò.–ò. | 77:01:0000000:111 | –¶–ê–û</span>
          <button class="sign-btn">–ü–æ–¥–ø–∏—Å–∞—Ç—å</button>
        </div>
        <div class="app-card" data-district="–Æ–ó–ê–û" data-text="–î–æ–∫—É–º–µ–Ω—Ç –ü–µ—Ç—Ä–æ–≤–∞">
          <span>–ü–µ—Ç—Ä–æ–≤ –ü.–ü. | 77:01:0000000:222 | –Æ–ó–ê–û</span>
          <button class="sign-btn">–ü–æ–¥–ø–∏—Å–∞—Ç—å</button>
        </div>
        <div class="app-card" data-district="–°–ó–ê–û" data-text="–î–æ–∫—É–º–µ–Ω—Ç –°–∏–¥–æ—Ä–æ–≤–∞">
          <span>–°–∏–¥–æ—Ä–æ–≤ –°.–°. | 77:01:0000000:333 | –°–ó–ê–û</span>
          <button class="sign-btn">–ü–æ–¥–ø–∏—Å–∞—Ç—å</button>
        </div>
        <div class="app-card" data-district="–í–ê–û" data-text="–î–æ–∫—É–º–µ–Ω—Ç –ö—É–∑–Ω–µ—Ü–æ–≤–∞">
          <span>–ö—É–∑–Ω–µ—Ü–æ–≤ –ö.–ö. | 77:01:0000000:444 | –í–ê–û</span>
          <button class="sign-btn">–ü–æ–¥–ø–∏—Å–∞—Ç—å</button>
        </div>
      </main>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ -->
  <div id="modal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h3>–î–æ–∫—É–º–µ–Ω—Ç –∑–∞—è–≤–ª–µ–Ω–∏—è</h3>
      <p id="modalText">–¢–µ–∫—Å—Ç –∑–∞—è–≤–ª–µ–Ω–∏—è...</p>
      <div class="modal-actions">
        <button id="approveBtn" class="btn-approve">–ü–æ–¥–ø–∏—Å–∞—Ç—å</button>
        <button id="rejectBtn" class="btn-ghost">–û—Ç–∫–ª–æ–Ω–∏—Ç—å</button>
      </div>
    </div>
  </div>

  <script>
  document.addEventListener("DOMContentLoaded", () => {
    const searchBtn = document.getElementById("searchBtn");
    const searchInput = document.getElementById("searchInput");
    const applicationsList = document.getElementById("applicationsList");
    const totalCountEl = document.getElementById("totalCount");
    const foundCountEl = document.getElementById("foundCount");
    const wordEl = document.getElementById("word");

    const appCards = Array.from(applicationsList.querySelectorAll(".app-card"));

    // –£—Å—Ç–∞–Ω–æ–≤–∏–º –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
    totalCountEl.textContent = appCards.length;

    // –°–∫–ª–æ–Ω–µ–Ω–∏–µ —Å–ª–æ–≤–∞ "–∑–∞—è–≤–ª–µ–Ω–∏–µ"
    function declension(num) {
      num = Math.abs(num) % 100;
      const n1 = num % 10;
      if (num > 10 && num < 20) return "–∑–∞—è–≤–ª–µ–Ω–∏–π";
      if (n1 > 1 && n1 < 5) return "–∑–∞—è–≤–ª–µ–Ω–∏—è";
      if (n1 === 1) return "–∑–∞—è–≤–ª–µ–Ω–∏–µ";
      return "–∑–∞—è–≤–ª–µ–Ω–∏–π";
    }

    function updateCounter(count) {
      foundCountEl.textContent = count;
      wordEl.textContent = declension(count);
    }

    // –ü–æ–∏—Å–∫
    function doSearch() {
      const query = searchInput.value.trim().toLowerCase();
      let found = 0;

      appCards.forEach(card => {
        const text = card.textContent.toLowerCase();
        if (text.includes(query)) {
          card.style.display = "flex";
          found++;
        } else {
          card.style.display = "none";
        }
      });

      updateCounter(found);
    }

    searchBtn.addEventListener("click", doSearch);

    // –ü–æ–∏—Å–∫ –ø–æ Enter
    searchInput.addEventListener("keydown", e => {
      if (e.key === "Enter") {
        doSearch();
      }
    });

    // –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    updateCounter(appCards.length);

    // –ú–æ–¥–∞–ª–∫–∞ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞
    const modal = document.getElementById("modal");
    const modalText = document.getElementById("modalText");
    const closeBtn = document.querySelector(".close");

    document.querySelectorAll(".sign-btn").forEach(btn => {
      btn.addEventListener("click", (e) => {
        const appCard = e.target.closest(".app-card");
        modalText.textContent = appCard.dataset.text;
        modal.style.display = "flex";
      });
    });

    closeBtn.addEventListener("click", () => modal.style.display = "none");
    window.addEventListener("click", e => { 
      if (e.target === modal) modal.style.display = "none"; 
    });
  });
  </script>
</body>
</html>